(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{868:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(7876),l=a(4232),i=a(7328),r=a(6848),c=a(7963);let n=(0,c.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var d=a(9435);let o=(0,c.A)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),h=(0,c.A)("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var x=a(948),m=a(860);let b=(0,c.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var p=a(3536),y=a(4640);function u(){let[e,t]=(0,l.useState)([{id:1,name:"brutal-logo.svg",path:"/logo.svg",size:"2.4 KB",type:"image/svg+xml",uploadDate:"2024-01-15",dimensions:"512x512"},{id:2,name:"favicon.svg",path:"/favicon.svg",size:"1.8 KB",type:"image/svg+xml",uploadDate:"2024-01-15",dimensions:"32x32"},{id:3,name:"portfolio-1.svg",path:"/portfolio/1.svg",size:"3.2 KB",type:"image/svg+xml",uploadDate:"2024-01-14",dimensions:"800x600"}]),[a,c]=(0,l.useState)(!1),[u,g]=(0,l.useState)(""),[f,j]=(0,l.useState)("grid"),[k,v]=(0,l.useState)([]),N=(0,l.useRef)(null),w=e.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())),A=async e=>{let a=Array.from(e.target.files);c(!0);try{for(let e of a){let a=new FormData;a.append("file",e);let s=await fetch("/api/admin/media/upload",{method:"POST",body:a});if(s.ok){let a=await s.json(),l={id:Date.now()+Math.random(),name:e.name,path:a.path,size:E(e.size),type:e.type,uploadDate:new Date().toISOString().split("T")[0],dimensions:a.dimensions||"Unknown"};t(e=>[l,...e])}}}catch(e){console.error("Upload error:",e),alert("Error uploading files")}c(!1),N.current&&(N.current.value="")},E=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},D=e=>{navigator.clipboard.writeText(e),alert("Path copied to clipboard!")},M=async a=>{if(confirm("Are you sure you want to delete this file?"))try{let s=e.find(e=>e.id===a);(await fetch("/api/admin/media/delete",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:s.path})})).ok&&t(e=>e.filter(e=>e.id!==a))}catch(e){console.error("Delete error:",e),alert("Error deleting file")}},C=e=>{v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsxs)(y.A,{title:"MEDIA LIBRARY",children:[(0,s.jsxs)(i,{children:[(0,s.jsx)("title",{children:"Media Library | LHAMO Admin"}),(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-black text-black mb-2",style:{fontFamily:"Space Grotesk"},children:"BRUTAL MEDIA ARSENAL"}),(0,s.jsx)("p",{className:"font-bold text-gray-600",children:"Manage your savage visual assets with brutal efficiency"})]}),(0,s.jsxs)("button",{onClick:()=>{var e;return null==(e=N.current)?void 0:e.click()},disabled:a,className:"neo-button flex items-center space-x-2",children:[(0,s.jsx)(n,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:a?"UPLOADING...":"UPLOAD FILES"})]}),(0,s.jsx)("input",{ref:N,type:"file",multiple:!0,accept:"image/*",onChange:A,className:"hidden"})]}),(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"neo-card bg-yellow-300 p-8 text-center border-dashed border-4 border-black",onDrop:e=>{e.preventDefault(),A({target:{files:Array.from(e.dataTransfer.files)}})},onDragOver:e=>e.preventDefault(),children:[(0,s.jsx)(n,{className:"w-16 h-16 text-black mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-black text-black mb-2",children:"DRAG & DROP BRUTAL VISUALS"}),(0,s.jsx)("p",{className:"font-bold text-black mb-4",children:"Or click to select files from your device"}),(0,s.jsx)("button",{onClick:()=>{var e;return null==(e=N.current)?void 0:e.click()},className:"neo-button-secondary",children:"SELECT FILES"})]}),(0,s.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"neo-card bg-white p-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)("input",{type:"text",placeholder:"SEARCH MEDIA FILES...",value:u,onChange:e=>g(e.target.value),className:"w-full neo-input pr-12 uppercase placeholder:text-gray-500"}),(0,s.jsx)(d.A,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>j("grid"),className:"p-2 border-4 border-black ".concat("grid"===f?"bg-red-600 text-white":"bg-white text-black"),children:(0,s.jsx)(o,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>j("list"),className:"p-2 border-4 border-black ".concat("list"===f?"bg-red-600 text-white":"bg-white text-black"),children:(0,s.jsx)(h,{className:"w-5 h-5"})})]}),k.length>0&&(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("span",{className:"font-bold text-sm",children:[k.length," selected"]}),(0,s.jsx)("button",{className:"neo-button-secondary text-sm",children:"BULK DELETE"})]})]})}),"grid"===f?(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:w.map((e,t)=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},className:"neo-card p-4 group relative ".concat(k.includes(e.id)?"bg-red-600 text-white":"bg-white text-black"),children:[(0,s.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,s.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>C(e.id),className:"w-4 h-4"})}),(0,s.jsx)("div",{className:"bg-gray-100 border-2 border-black h-32 flex items-center justify-center mb-4 overflow-hidden",children:e.type.startsWith("image/")?(0,s.jsx)("img",{src:e.path,alt:e.name,className:"max-w-full max-h-full object-contain"}):(0,s.jsx)(x.A,{className:"w-12 h-12 text-gray-400"})}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h4",{className:"font-black text-sm mb-1 truncate",title:e.name,children:e.name}),(0,s.jsxs)("div",{className:"text-xs font-bold opacity-75 space-y-1",children:[(0,s.jsx)("div",{children:e.size}),(0,s.jsx)("div",{children:e.dimensions}),(0,s.jsx)("div",{children:e.uploadDate})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("button",{onClick:()=>window.open(e.path,"_blank"),className:"flex-1 text-center py-1 px-2 border-2 font-bold text-xs ".concat(k.includes(e.id)?"bg-white text-black border-white":"bg-gray-100 text-black border-black"),title:"View",children:(0,s.jsx)(m.A,{className:"w-3 h-3 inline"})}),(0,s.jsx)("button",{onClick:()=>D(e.path),className:"flex-1 text-center py-1 px-2 border-2 font-bold text-xs ".concat(k.includes(e.id)?"bg-yellow-300 text-black border-white":"bg-black text-white border-black"),title:"Copy Path",children:(0,s.jsx)(b,{className:"w-3 h-3 inline"})}),(0,s.jsx)("button",{onClick:()=>M(e.id),className:"p-1 bg-red-600 text-white border-2 border-black hover:bg-red-800 transition-colors",title:"Delete",children:(0,s.jsx)(p.A,{className:"w-3 h-3"})})]})]},e.id))}):(0,s.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"neo-card bg-white p-6",children:(0,s.jsx)("div",{className:"space-y-4",children:w.map((e,t)=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"flex items-center space-x-4 p-4 border-2 border-black ".concat(k.includes(e.id)?"bg-red-600 text-white":"bg-gray-50"),children:[(0,s.jsx)("input",{type:"checkbox",checked:k.includes(e.id),onChange:()=>C(e.id),className:"w-4 h-4"}),(0,s.jsx)("div",{className:"w-16 h-16 bg-white border-2 border-black flex items-center justify-center",children:e.type.startsWith("image/")?(0,s.jsx)("img",{src:e.path,alt:e.name,className:"max-w-full max-h-full object-contain"}):(0,s.jsx)(x.A,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h4",{className:"font-black text-lg",children:e.name}),(0,s.jsxs)("div",{className:"text-sm font-bold opacity-75",children:[e.size," • ",e.dimensions," • ",e.uploadDate]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>window.open(e.path,"_blank"),className:"p-2 bg-gray-200 text-black border-2 border-black hover:bg-gray-300",title:"View",children:(0,s.jsx)(m.A,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>D(e.path),className:"p-2 bg-black text-white border-2 border-black hover:bg-gray-800",title:"Copy Path",children:(0,s.jsx)(b,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>M(e.id),className:"p-2 bg-red-600 text-white border-2 border-black hover:bg-red-800",title:"Delete",children:(0,s.jsx)(p.A,{className:"w-4 h-4"})})]})]},e.id))})}),0===w.length&&(0,s.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"neo-card bg-white text-center py-12",children:[(0,s.jsx)(x.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-black text-black mb-2",children:"NO MEDIA FILES FOUND"}),(0,s.jsx)("p",{className:"font-bold text-gray-600 mb-6",children:u?"Try adjusting your search term":"Upload your first brutal visual assets!"}),(0,s.jsx)("button",{onClick:()=>{var e;return null==(e=N.current)?void 0:e.click()},className:"neo-button",children:"UPLOAD FIRST FILE"})]}),(0,s.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"TOTAL FILES",value:e.length},{label:"SELECTED",value:k.length},{label:"IMAGES",value:e.filter(e=>e.type.startsWith("image/")).length},{label:"SHOWING",value:w.length}].map((e,t)=>(0,s.jsxs)("div",{className:"neo-card bg-black text-white p-4 text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-black text-red-600 mb-1",children:e.value}),(0,s.jsx)("div",{className:"text-xs font-bold",children:e.label})]},e.label))})]})]})}},4500:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/media",function(){return a(868)}])},9435:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[291,230,374,636,593,792],()=>e(e.s=4500)),_N_E=e.O()}]);