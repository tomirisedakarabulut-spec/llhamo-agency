(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{188:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/blog/edit/[slug]",function(){return a(3591)}])},3591:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSG:()=>y,default:()=>N});var s=a(7876),l=a(4232),c=a(7328),i=a(9099),n=a(6848),r=a(9926),o=a(860),d=a(3536),x=a(6394);let h=(0,a(7963).A)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);var p=a(4041),m=a(4213),b=a(948),u=a(6867),j=a(4640),y=!0;function N(e){var t,a,y;let{post:N}=e,g=(0,i.useRouter)(),[f,k]=(0,l.useState)(!1),[w,v]=(0,l.useState)(!1),[E,T]=(0,l.useState)(!1),[A,O]=(0,l.useState)(N||{title:"",excerpt:"",content:"",author:"LHAMO TEAM",category:"BRANDING",tags:[],featured:!1,image:"/portfolio/1.svg",seo:{metaTitle:"",metaDescription:"",keywords:[]}});(0,l.useEffect)(()=>{N&&O({...N,tags:N.tags||[],seo:N.seo||{metaTitle:N.title||"",metaDescription:N.excerpt||"",keywords:N.tags||[]}})},[N]);let C=(e,t)=>{O(a=>({...a,[e]:t}))},S=(e,t)=>{O(a=>({...a,seo:{...a.seo,[e]:t}}))},_=async()=>{k(!0);try{(await fetch("/api/admin/blog/update/".concat(g.query.slug),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...A,readTime:P(A.content)})})).ok?g.push("/admin/blog"):alert("Error updating post")}catch(e){console.error("Error:",e),alert("Error updating post")}k(!1)},I=async()=>{try{(await fetch("/api/admin/blog/delete/".concat(g.query.slug),{method:"DELETE"})).ok?g.push("/admin/blog"):alert("Error deleting post")}catch(e){console.error("Error:",e),alert("Error deleting post")}},P=e=>{let t=Math.ceil(e.split(" ").length/200);return"".concat(t," MIN")};return N?w?(0,s.jsx)(j.A,{title:"PREVIEW POST",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("button",{onClick:()=>v(!1),className:"neo-button-secondary flex items-center space-x-2",children:[(0,s.jsx)(r.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"BACK TO EDIT"})]})}),(0,s.jsx)("div",{className:"neo-card bg-white p-8 max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"prose prose-lg max-w-none",children:[(0,s.jsx)("div",{className:"inline-block px-4 py-2 border-4 border-black font-bold text-sm mb-6 ".concat("AI"===A.category?"bg-red-600 text-white":"bg-yellow-300 text-black"),children:A.category}),(0,s.jsx)("h1",{className:"text-4xl font-black text-black mb-4",style:{fontFamily:"Space Grotesk"},children:A.title||"UNTITLED POST"}),(0,s.jsx)("p",{className:"text-xl font-bold text-black mb-8",children:A.excerpt||"No excerpt provided..."}),(0,s.jsx)("div",{className:"prose prose-lg",children:A.content.split("\n").map((e,t)=>(0,s.jsx)("p",{className:"mb-4",children:e},t))})]})})]})}):(0,s.jsxs)(j.A,{title:"EDIT POST",children:[(0,s.jsxs)(c,{children:[(0,s.jsx)("title",{children:"Edit Blog Post | LHAMO Admin"}),(0,s.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:()=>g.back(),className:"neo-button-secondary flex items-center space-x-2",children:[(0,s.jsx)(r.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"BACK"})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("h1",{className:"text-2xl font-black text-black",style:{fontFamily:"Space Grotesk"},children:["EDIT: ",A.title]})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("button",{onClick:()=>v(!0),className:"neo-button-secondary flex items-center space-x-2",children:[(0,s.jsx)(o.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"PREVIEW"})]}),(0,s.jsxs)("button",{onClick:()=>T(!0),className:"bg-red-600 text-white border-4 border-black font-bold px-4 py-3 shadow-[4px_4px_0px_0px_#000] hover:shadow-[6px_6px_0px_0px_#000] transition-all duration-200 uppercase tracking-wide flex items-center space-x-2",children:[(0,s.jsx)(d.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"DELETE"})]}),(0,s.jsxs)("button",{onClick:_,disabled:f||!A.title||!A.content,className:"neo-button flex items-center space-x-2",children:[(0,s.jsx)(x.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:f?"SAVING...":"UPDATE"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"neo-card bg-white p-6",children:[(0,s.jsxs)("label",{className:"block text-sm font-black text-black mb-2 uppercase tracking-wide flex items-center space-x-2",children:[(0,s.jsx)(h,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"BRUTAL TITLE *"})]}),(0,s.jsx)("input",{type:"text",value:A.title,onChange:e=>C("title",e.target.value),className:"w-full neo-input text-lg font-bold",placeholder:"ENTER YOUR SAVAGE TITLE...",required:!0})]}),(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"neo-card bg-white p-6",children:[(0,s.jsx)("label",{className:"block text-sm font-black text-black mb-2 uppercase tracking-wide",children:"EXCERPT *"}),(0,s.jsx)("textarea",{value:A.excerpt,onChange:e=>C("excerpt",e.target.value),className:"w-full neo-input h-24 resize-none",placeholder:"BRIEF DESCRIPTION OF YOUR BRUTAL CONTENT...",required:!0})]}),(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"neo-card bg-white p-6",children:[(0,s.jsx)("label",{className:"block text-sm font-black text-black mb-2 uppercase tracking-wide",children:"CONTENT *"}),(0,s.jsx)("textarea",{value:A.content,onChange:e=>C("content",e.target.value),className:"w-full neo-input h-96 resize-none font-mono",placeholder:"Write your brutal content here... Use Markdown formatting.",required:!0}),(0,s.jsxs)("div",{className:"mt-2 text-xs font-bold text-gray-600",children:["Estimated read time: ",P(A.content)]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(n.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"neo-card bg-black text-white p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-black mb-4 flex items-center space-x-2",children:[(0,s.jsx)(p.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"POST SETTINGS"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-white mb-2",children:"AUTHOR"}),(0,s.jsx)("input",{type:"text",value:A.author,onChange:e=>C("author",e.target.value),className:"w-full bg-white text-black border-2 border-white px-3 py-2 font-bold"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-white mb-2",children:"CATEGORY"}),(0,s.jsx)("select",{value:A.category,onChange:e=>C("category",e.target.value),className:"w-full bg-white text-black border-2 border-white px-3 py-2 font-bold",children:["BRANDING","AI","SOCIAL","VIDEO","CONVERSION","GROWTH"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-white mb-2 flex items-center space-x-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"TAGS (comma separated)"})]}),(0,s.jsx)("input",{type:"text",value:A.tags?A.tags.join(", "):"",onChange:e=>(e=>{let t=e.split(",").map(e=>e.trim()).filter(e=>e);O(e=>({...e,tags:t}))})(e.target.value),className:"w-full bg-white text-black border-2 border-white px-3 py-2 font-bold",placeholder:"brutal, marketing, strategy"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-bold text-white mb-2 flex items-center space-x-2",children:[(0,s.jsx)(b.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"FEATURED IMAGE"})]}),(0,s.jsx)("input",{type:"text",value:A.image,onChange:e=>C("image",e.target.value),className:"w-full bg-white text-black border-2 border-white px-3 py-2 font-bold",placeholder:"/portfolio/1.svg"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("input",{type:"checkbox",id:"featured",checked:A.featured,onChange:e=>C("featured",e.target.checked),className:"w-4 h-4"}),(0,s.jsxs)("label",{htmlFor:"featured",className:"flex items-center space-x-2 font-bold text-white",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"FEATURED POST"})]})]})]})]}),(0,s.jsxs)(n.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"neo-card bg-red-600 text-white p-6",children:[(0,s.jsx)("h3",{className:"text-lg font-black mb-4",children:"SEO SETTINGS"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-white mb-2",children:"META TITLE"}),(0,s.jsx)("input",{type:"text",value:(null==(t=A.seo)?void 0:t.metaTitle)||"",onChange:e=>S("metaTitle",e.target.value),className:"w-full bg-white text-black border-2 border-white px-3 py-2 font-bold text-sm",placeholder:"SEO optimized title..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-white mb-2",children:"META DESCRIPTION"}),(0,s.jsx)("textarea",{value:(null==(a=A.seo)?void 0:a.metaDescription)||"",onChange:e=>S("metaDescription",e.target.value),className:"w-full bg-white text-black border-2 border-white px-3 py-2 font-bold text-sm h-20 resize-none",placeholder:"SEO description..."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-bold text-white mb-2",children:"KEYWORDS"}),(0,s.jsx)("input",{type:"text",value:(null==(y=A.seo)?void 0:y.keywords)?A.seo.keywords.join(", "):"",onChange:e=>S("keywords",e.target.value.split(",").map(e=>e.trim())),className:"w-full bg-white text-black border-2 border-white px-3 py-2 font-bold text-sm",placeholder:"seo, keywords, here"})]})]})]})]})]})]}),E&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(n.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"neo-card bg-white max-w-md w-full p-6",children:[(0,s.jsx)("h3",{className:"text-xl font-black text-black mb-4",children:"DELETE POST?"}),(0,s.jsxs)("p",{className:"font-bold text-gray-700 mb-6",children:['This action cannot be undone. The post "',A.title,'" will be permanently destroyed.']}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("button",{onClick:()=>T(!1),className:"flex-1 neo-button-secondary",children:"CANCEL"}),(0,s.jsx)("button",{onClick:I,className:"flex-1 bg-red-600 text-white border-4 border-black font-bold py-3 shadow-[4px_4px_0px_0px_#000] hover:shadow-[6px_6px_0px_0px_#000] transition-all duration-200 uppercase",children:"DESTROY"})]})]})})]}):(0,s.jsx)(j.A,{title:"POST NOT FOUND",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h1",{className:"text-2xl font-black text-black mb-4",children:"POST NOT FOUND"}),(0,s.jsx)("button",{onClick:()=>g.push("/admin/blog"),className:"neo-button",children:"BACK TO BLOG"})]})})}},4041:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},4213:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},6394:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6867:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9926:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(7963).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{e.O(0,[291,230,374,636,593,792],()=>e(e.s=188)),_N_E=e.O()}]);